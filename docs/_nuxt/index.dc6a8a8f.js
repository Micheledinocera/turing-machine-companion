import{d as U,z as Q,A as ne,B as pe,c as J,r as H,k as o,l as t,m as i,F as r,C as p,D as e,E as K,G as v,S as ee,t as m,H as ae,I as ve,J as V,x as le,y as ce,_ as X,L as M,V as x,o as ge,K as re,M as de,N as q,O as we,P as ke,Q as ye,R as Te,T as _e,U as $e,W as D,X as Ce,Y as te,v as ie,Z as me,$ as he,a0 as Se,a1 as Le,a2 as Ae,a3 as Oe,a4 as Ne,q as E,a5 as Ee,a6 as Me,j as Re,a7 as Fe}from"./entry.45330dd9.js";const fe=y=>(le("data-v-0b43fc44"),y=y(),ce(),y),Pe={class:"combinations-table"},De={class:"row header"},Ve=fe(()=>i("div",{class:"select-row"},null,-1)),Ye={key:0,class:v(["row"])},Ze=fe(()=>i("div",{class:"select-row"},null,-1)),Ge=["onClick"],He={class:"value"},Ue={key:0,class:"choice-menu"},We=["onClick"],je=["id"],Be=["onClick"],ze=["onClick"],Ke={class:"value"},qe={key:0,class:"choice-menu"},Je=["onClick"],Qe=U({__name:"CombinationsTable",props:{fixed:{type:Boolean}},setup(y){const u=Q(),d=ne(),{selectedRowRef:k}=pe(),T=J(()=>u.value.noteRows),C=H([!1,!1,!1]),f=s=>{const _=C.value[s];C.value=[!1,!1,!1],C.value[s]=!_},O=(s,_,n)=>{u.value.noteRows[_].code[s]=n,C.value[s]=!1};return(s,_)=>(o(),t("div",Pe,[i("div",De,[Ve,(o(!0),t(r,null,p(("arrayFromZeroToNumber"in s?s.arrayFromZeroToNumber:e(K))(3),n=>(o(),t("div",{class:"item",key:"header_"+n}))),128))]),s.fixed?(o(),t("div",Ye,[Ze,(o(!0),t(r,null,p(("arrayFromZeroToNumber"in s?s.arrayFromZeroToNumber:e(K))(3),n=>(o(),t("div",{key:"item_"+e(T)[e(d)].code[n]+"_"+n,class:v(["item",("SHAPES"in s?s.SHAPES:e(ee))[n]]),onClick:()=>f(n)},[i("div",He,m(e(T)[e(d)].code[n]),1),e(C)[n]?(o(),t("div",Ue,[(o(!0),t(r,null,p(("arrayFromOneToNumber"in s?s.arrayFromOneToNumber:e(ae))(5),l=>(o(),t("div",{class:"menu-item",onClick:ve(()=>O(n,e(d),l),["stop"])},m(l),9,We))),256))])):V("",!0)],10,Ge))),128))])):(o(!0),t(r,{key:1},p(e(T),(n,l)=>(o(),t("div",{class:v(["row",{inactive:l!=e(d)}]),ref_for:!0,ref:L=>{l==e(T).length-1&&(k.value=L)},key:"item_rownote_"+l,id:"item_rownote_"+l},[i("div",{class:"select-row",onClick:()=>d.value=l},null,8,Be),(o(!0),t(r,null,p(("arrayFromZeroToNumber"in s?s.arrayFromZeroToNumber:e(K))(3),L=>(o(),t("div",{key:"item_"+n.code[L]+"_"+L,class:v(["item",("SHAPES"in s?s.SHAPES:e(ee))[L]]),onClick:()=>f(L)},[i("div",Ke,m(n.code[L]),1),e(C)[L]?(o(),t("div",qe,[(o(!0),t(r,null,p(("arrayFromOneToNumber"in s?s.arrayFromOneToNumber:e(ae))(5),N=>(o(),t("div",{class:"menu-item",onClick:ve(()=>O(L,l,N),["stop"])},m(N),9,Je))),256))])):V("",!0)],10,ze))),128))],10,je))),128))]))}});const Xe=X(Qe,[["__scopeId","data-v-0b43fc44"]]),Ie={class:"verifications-checklist"},xe={class:"table-container"},es={class:"row header"},ss={class:"item"},os={class:"label"},ts={key:0,class:v(["row"])},is=["onClick"],as=["onClick"],ns=U({__name:"VerificationsChecklist",props:{fixed:{type:Boolean}},setup(y){const u=Q(),d=ne(),k=J(()=>u.value.noteRows),T=s=>s===null?"empty":s?"ok":"ko",C=s=>k.value[s].verificators.filter(_=>_!==null).length,f=(s,_)=>s===null&&C(_)>=3,O=(s,_,n)=>{let l=x.indexOf(n);l=(l+1+x.length)%x.length,u.value.noteRows[s].verificators[_]=x[l]};return(s,_)=>(o(),t("div",Ie,[i("div",xe,[i("div",es,[(o(!0),t(r,null,p(Object.values("LawType"in s?s.LawType:e(M)),n=>(o(),t("div",ss,[i("div",os,m(n),1)]))),256))]),s.fixed?(o(),t("div",ts,[(o(!0),t(r,null,p(Object.values("LawType"in s?s.LawType:e(M)),(n,l)=>(o(),t("div",{class:"item",key:"verificator_"+n+"_"+e(d)},[i("div",{class:v(["checkbox",T(e(k)[e(d)].verificators[l]),{inactive:f(e(k)[e(d)].verificators[l],e(d))}]),onClick:()=>O(e(d),l,e(k)[e(d)].verificators[l])},null,10,is)]))),128))])):(o(!0),t(r,{key:1},p(e(k),(n,l)=>(o(),t("div",{class:v(["row",{inactive:l!=e(d)}])},[(o(!0),t(r,null,p(Object.values("LawType"in s?s.LawType:e(M)),(L,N)=>(o(),t("div",{class:"item",key:"verificator_"+L+"_"+l},[i("div",{class:v(["checkbox",T(n.verificators[N]),{inactive:f(n.verificators[N],l)}]),onClick:()=>O(l,N,n.verificators[N])},null,10,as)]))),128))],2))),256))])]))}});const ls=X(ns,[["__scopeId","data-v-98787401"]]),be=()=>{const y=H("desktop"),u=J(()=>y.value=="mobile"||y.value=="tablet"),d=()=>{window.innerWidth>768?y.value="desktop":y.value=window.innerWidth>425?"tablet":"mobile"};return ge(()=>{d(),window.addEventListener("resize",()=>d())}),{isNotDesktop:u}},cs=y=>(le("data-v-e0148fc3"),y=y(),ce(),y),rs=cs(()=>i("div",{class:"icon"},null,-1)),ds=[rs],_s={class:"row header"},us={class:"item"},vs={class:"row"},ms=["onClick"],hs={class:"value"},ps=U({__name:"PossibleCodesPicklist",setup(y){const u=Q(),d=H(!0),{isNotDesktop:k}=be(),T=re(),C=de(),f=(s,_)=>u.value.possibleCodes[_].includes(s),O=(s,_)=>{var n=u.value.possibleCodes[_].indexOf(s);n==-1?u.value.possibleCodes[_].push(s):u.value.possibleCodes[_].splice(n,1)};return(s,_)=>(o(),t("div",{class:v(["possible-codes-picklist",{collapsed:e(k)&&e(d)}])},[i("div",{class:"collapse",onClick:_[0]||(_[0]=n=>d.value=!e(d))},ds),i("div",_s,[(o(!0),t(r,null,p("SHAPES"in s?s.SHAPES:e(ee),n=>(o(),t("div",us))),256))]),(o(!0),t(r,null,p(("arrayFromOneToNumber"in s?s.arrayFromOneToNumber:e(ae))(5),n=>(o(),t("div",vs,[(o(!0),t(r,null,p(("arrayFromZeroToNumber"in s?s.arrayFromZeroToNumber:e(K))(3),l=>(o(),t("div",{class:v(["item",{inactive:f(n,l)},("SHAPES"in s?s.SHAPES:e(ee))[l]]),onClick:()=>O(n,l)},[i("div",hs,m(n),1)],10,ms))),256))]))),256)),e(u).possibleCodes[0].length==4&&e(u).possibleCodes[1].length==4&&e(u).possibleCodes[2].length==4?(o(),t("div",{key:0,class:"check-code",onClick:_[1]||(_[1]=()=>{T.value=!0,C.value=("MODAL_TYPES"in s?s.MODAL_TYPES:e(q)).checkCodeSure})},m(s.$t("checkCode")),1)):V("",!0)],2))}});const ks=X(ps,[["__scopeId","data-v-e0148fc3"]]),se=y=>(le("data-v-60dc44a3"),y=y(),ce(),y),ys={class:"law-item"},Cs={class:"key"},fs={class:"text-container"},bs=["onUpdate:modelValue"],gs=["onClick"],ws={class:"conditions-container"},Ts={class:"condition-container"},$s=["onClick"],Ss=["onClick"],Ls={key:0,class:"possibility-container"},As=se(()=>i("div",{class:"check"},null,-1)),Os={class:"value"},Ns={class:"law-item"},Es={class:"label-container"},Ms={class:"key"},Rs={class:"law-id"},Fs=se(()=>i("div",{class:"icon"},null,-1)),Ps=["onClick"],Ds=["data-src","alt"],Vs={class:"conditions-container with-imgs"},Ys=["data-src","alt","onClick"],Zs={class:"law-item"},Gs={class:"label-container"},Hs={class:"key"},Us={class:"law-id"},Ws=se(()=>i("div",{class:"icon"},null,-1)),js=["onClick"],Bs=["data-src","alt"],zs={class:"conditions-container with-imgs"},Ks=["data-src","alt","onClick"],qs={class:"labels-container"},Js={class:"label-container"},Qs={class:"key"},Xs=se(()=>i("div",{class:"icon"},null,-1)),Is={class:"law-items"},xs={class:"law-item"},eo={class:"label-container"},so={class:"law-id"},oo=["onClick"],to=["data-src","alt"],io={class:"conditions-container with-imgs"},ao=["data-src","alt","onClick"],no=U({__name:"LawsContainer",async setup(y){let u,d;const k=re(),T=de(),C=we(),f=Q(),{gameInfoOk:O,gameInfo:s}=([u,d]=ke(()=>ye()),u=await u,d(),u),_=Te(),n=H(Object.values(M).map(()=>"")),{locale:l}=_e(),L=a=>{f.value.laws[a].possibilities.push({value:n.value[a],active:!0}),n.value[a]=""},N=(a,w)=>{f.value.laws[a].possibilities.splice(w,1)},Z=(a,w)=>{f.value.laws[a].possibilities[w].active=!f.value.laws[a].possibilities[w].active},Y=a=>f.value.laws[a].possibilities.filter(w=>w.active),oe=a=>n.value[a]===""||f.value.laws[a].possibilities.find(w=>w.value==n.value[a]),W=a=>{const w=he.find($=>$.iso==l.value),h=w?w.value:"en";return Se.replaceAll("{locale}",h.toUpperCase()).replace("{possibility}",a+"")},j=a=>{const w=(a<10?"0":"")+a,h=he.find(R=>R.iso==l.value),$=h?h.value:"en";return Le.replaceAll("{locale}",$.toUpperCase()).replace("{lawId}",w)},I=a=>{var h,$;var w=[(h=s.value)==null?void 0:h.ind[a],($=s.value)==null?void 0:$.fake[a]];return{inds:[w[_.value[a]],w[1-_.value[a]]]}};return(a,w)=>{var $,R,G,B,z;const h=$e("lazy-load");return o(),t("div",{class:v(["laws-container","mode_"+(($=e(s))==null?void 0:$.m)])},[e(O)?(o(),t(r,{key:1},[((R=e(s))==null?void 0:R.m)==("gameModes"in a?a.gameModes:e(te)).classic?(o(!0),t(r,{key:0},p(e(f).laws,(g,c)=>{var S,A,b;return o(),t("div",Ns,[i("div",Es,[i("div",Ms,m(g.key),1),i("div",Rs,m((S=e(s))==null?void 0:S.ind[c]),1),i("div",{class:v(["rule-id","color_"+((A=e(s))==null?void 0:A.color)])},[ie(m((b=e(s))==null?void 0:b.crypt[c])+" ",1),Fs],2)]),i("div",{class:"law-container",onClick:()=>{C.value=e(s)?e(s).ind[c]:1,k.value=!0,T.value=("MODAL_TYPES"in a?a.MODAL_TYPES:e(q)).cardDetail}},[D(i("img",{"data-src":j(e(s).ind[c]),alt:"law_card_"+g},null,8,Ds),[[h]])],8,Ps),i("div",Vs,[(o(!0),t(r,null,p(("LAWS_VERIFICATORS"in a?a.LAWS_VERIFICATORS:e(me))[e(s).ind[c]],(F,P)=>{var ue;return o(),t("div",{class:v(["condition-container",{definitive:Y(c).length==1},{inactive:!((ue=g.possibilities[P])!=null&&ue.active)}])},[D(i("img",{class:v(["condition"]),"data-src":W(F),alt:"law_image_"+a.$i18n.locale+"_"+F,onClick:()=>Z(c,P)},null,8,Ys),[[h]])],2)}),256))])])}),256)):((G=e(s))==null?void 0:G.m)==("gameModes"in a?a.gameModes:e(te)).extreme?(o(!0),t(r,{key:1},p(e(f).laws,(g,c)=>{var S,A;return o(),t("div",Zs,[i("div",Gs,[i("div",Hs,m(g.key),1),(o(!0),t(r,null,p(I(c).inds,b=>(o(),t("div",Us,m(b),1))),256)),i("div",{class:v(["rule-id","color_"+((S=e(s))==null?void 0:S.color)])},[ie(m((A=e(s))==null?void 0:A.crypt[c])+" ",1),Ws],2)]),(o(!0),t(r,null,p(I(c).inds,b=>(o(),t("div",{class:"law-container",onClick:()=>{C.value=b??1,k.value=!0,T.value=("MODAL_TYPES"in a?a.MODAL_TYPES:e(q)).cardDetail}},[D(i("img",{"data-src":j(b??1),alt:"law_card_"+b},null,8,Bs),[[h]])],8,js))),256)),i("div",zs,[(o(!0),t(r,null,p(g.possibilities,(b,F)=>{var P;return o(),t("div",{class:v(["condition-container",{definitive:Y(c).length==1},{inactive:!((P=g.possibilities[F])!=null&&P.active)}])},[D(i("img",{class:v(["condition"]),"data-src":W(b.value),alt:"law_image_"+a.$i18n.locale+"_"+b,onClick:()=>Z(c,F)},null,8,Ks),[[h]])],2)}),256))])])}),256)):((B=e(s))==null?void 0:B.m)==("gameModes"in a?a.gameModes:e(te)).nightmare?(o(),t(r,{key:2},[i("div",qs,[(o(!0),t(r,null,p(("arrayFromZeroToNumber"in a?a.arrayFromZeroToNumber:e(K))((z=e(s))==null?void 0:z.ind.length),(g,c)=>{var S,A;return o(),t("div",Js,[i("div",Qs,m(Object.keys("LawType"in a?a.LawType:e(M))[c]),1),i("div",{class:v(["rule-id","color_"+((S=e(s))==null?void 0:S.color)])},[ie(m((A=e(s))==null?void 0:A.crypt[c])+" ",1),Xs],2)])}),256))]),i("div",Is,[(o(!0),t(r,null,p(e(f).laws,(g,c)=>{var S,A;return o(),t("div",xs,[i("div",eo,[i("div",so,m((S=e(s))==null?void 0:S.ind[Object.values("LawType"in a?a.LawType:e(M)).findIndex(b=>b==g.key)]),1)]),i("div",{class:"law-container",onClick:()=>{C.value=e(s)?e(s).ind[Object.values("LawType"in a?a.LawType:e(M)).findIndex(b=>b==g.key)]:1,k.value=!0,T.value=("MODAL_TYPES"in a?a.MODAL_TYPES:e(q)).cardDetail}},[D(i("img",{"data-src":j(e(s).ind[Object.values("LawType"in a?a.LawType:e(M)).findIndex(b=>b==g.key)]),alt:"law_card_"+g},null,8,to),[[h]])],8,oo),i("div",io,[(o(!0),t(r,null,p(("LAWS_VERIFICATORS"in a?a.LAWS_VERIFICATORS:e(me))[(A=e(s))==null?void 0:A.ind[Object.values("LawType"in a?a.LawType:e(M)).findIndex(b=>b==g.key)]],(b,F)=>{var P;return o(),t("div",{class:v(["condition-container",{definitive:Y(c).length==1},{inactive:!((P=g.possibilities[F])!=null&&P.active)}])},[D(i("img",{class:v(["condition"]),"data-src":W(b),alt:"law_image_"+a.$i18n.locale+"_"+b,onClick:()=>Z(c,F)},null,8,ao),[[h]])],2)}),256))])])}),256))])],64)):V("",!0)],64)):(o(!0),t(r,{key:0},p(e(f).laws,(g,c)=>(o(),t("div",ys,[i("div",Cs,m(g.key),1),i("div",fs,[D(i("input",{type:"text","onUpdate:modelValue":S=>e(n)[c]=S},null,8,bs),[[Ce,e(n)[c]]]),i("div",{class:v(["add",{inactive:oe(c)}]),onClick:()=>L(c)}," + ",10,gs)]),i("div",ws,[(o(!0),t(r,null,p(g.possibilities,(S,A)=>(o(),t("div",Ts,[i("div",{class:"remove",onClick:()=>N(c,A)}," - ",8,$s),i("div",{class:v(["condition",{inactive:!S.active}]),onClick:()=>Z(c,A)},m(S.value),11,Ss)]))),256))]),Y(c).length==1?(o(),t("div",Ls,[As,i("div",Os,m(Y(c)[0].value),1)])):V("",!0)]))),256))],2)}}});const lo=X(no,[["__scopeId","data-v-60dc44a3"]]),co={class:"add-container"},ro={key:0,class:"game-info-container"},_o={class:"oppure"},uo={class:"game-info"},vo=["placeholder","onKeydown"],mo={key:1,class:"game-info"},ho={key:0,class:"row fixed"},po={class:"row"},ko={class:"row"},yo={class:"row"},Co={class:"row"},fo={class:"row"},bo=U({__name:"Note",async setup(y){let u,d;const k=H(""),T=H(!1),{gameInfoOk:C,gameInfo:f,getGameInfo:O}=([u,d]=ke(()=>ye()),u=await u,d(),u),s=Q(),_=ne(),{t:n}=_e(),{notify:l}=Me(),{isNotDesktop:L}=be(),{isFixedRow:N}=pe(),Z=re(),Y=de(),oe=Ae(),W=J(()=>s.value.noteRows.some(h=>h.verificators.filter($=>$!==null).length<3)),j=()=>{s.value.noteRows=[...s.value.noteRows,structuredClone(Ee)],_.value=s.value.noteRows.length-1},I=()=>{var h;navigator.clipboard.writeText(f.value?(h=f.value)==null?void 0:h.hash:""),l({title:n("copied"),type:"success"})},a=async()=>{T.value=!0,await O(k.value),T.value=!1,k.value=""},w=J(()=>C.value===null||k.value.length>0?n("getInfo"):C.value?n("ok"):n("ko"));return(h,$)=>{var g;const R=Xe,G=ls,B=ks,z=lo;return o(),t("div",{class:v(["note-container",{disabled:e(oe)}])},[i("div",co,[!e(C)&&!e(T)?(o(),t("div",ro,[i("div",{class:"create-game",onClick:$[0]||($[0]=()=>{Z.value=!0,Y.value=("MODAL_TYPES"in h?h.MODAL_TYPES:e(q)).createGame})},m(h.$t("createGame")),1),i("div",_o,m(h.$t("or")),1),i("div",uo,[D(i("input",{type:"text",placeholder:e(n)("gameCode"),"onUpdate:modelValue":$[1]||($[1]=c=>Oe(k)?k.value=c:null),onKeydown:Ne(a,["enter"])},null,40,vo),[[Ce,e(k)]]),i("div",{class:v(["get-info",{inactive:e(k)==""},{error:!e(C)}]),onClick:a},m(e(w)),3)])])):e(C)?(o(),t("div",mo,[i("div",{class:"game-code",onClick:I},m(e(n)("gameCode"))+": "+m((g=e(f))==null?void 0:g.hash.replace(/\s/g,"")),1)])):V("",!0),e(C)?(o(),t("div",{key:2,class:v(["add",{inactive:e(W)}]),onClick:j},m(e(n)("newNoteRow")),3)):V("",!0)]),e(C)?(o(),t(r,{key:0},[e(L)?(o(),t(r,{key:0},[e(N)?(o(),t("div",ho,[E(R,{fixed:!0}),E(G,{fixed:!0})])):V("",!0),i("div",po,[E(B)]),i("div",ko,[E(R),E(G)]),i("div",yo,[E(z)])],64)):(o(),t(r,{key:1},[i("div",Co,[E(R),E(G)]),i("div",fo,[E(B),E(z)])],64))],64)):(o(),t("div",{key:1,class:v(["splash-screen",{loading:e(T)}])},null,2))],2)}}});const go=X(bo,[["__scopeId","data-v-97817dbb"]]),To=U({__name:"index",setup(y){return _e(),Re({title:"Turing Machine Companion"}),(u,d)=>{const k=go;return o(),Fe(k)}}});export{To as default};
