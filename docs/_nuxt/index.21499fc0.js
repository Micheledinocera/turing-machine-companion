import{d as D,z as H,A as K,B as ie,c as Q,r as U,k as s,l as o,m as n,F as v,C as b,D as e,E as G,G as m,S as B,t as S,H as j,I as q,J as E,x as ae,y as ne,_ as Z,o as ce,K as le,L as re,V as Y,M as _e,N as ue,O as J,P as ve,Q as pe,R as me,T as he,U as ke,W as se,X as Ce,Y as W,Z as L,$ as oe,a0 as z,a1 as te,a2 as ye,a3 as fe,a4 as be,q as A,j as ge,a5 as $e}from"./entry.d49d13d2.js";const de=C=>(ae("data-v-33858fcc"),C=C(),ne(),C),we={class:"combinations-table"},Te={class:"row header"},Se=de(()=>n("div",{class:"select-row"},null,-1)),Ne={key:0,class:m(["row"])},Ae=de(()=>n("div",{class:"select-row"},null,-1)),Ee=["onClick"],Me={class:"value"},Re={key:0,class:"choice-menu"},Pe=["onClick"],Fe=["id"],Oe=["onClick"],Le=["onClick"],De={class:"value"},Ve={key:0,class:"choice-menu"},Ue=["onClick"],He=D({__name:"CombinationsTable",props:{fixed:{type:Boolean}},setup(C){const u=H(),r=K(),{selectedRowRef:h}=ie(),$=Q(()=>u.value.noteRows),k=U([!1,!1,!1]),_=t=>{const c=k.value[t];k.value=[!1,!1,!1],k.value[t]=!c},T=(t,c,a)=>{u.value.noteRows[c].code[t]=a,k.value[t]=!1};return(t,c)=>(s(),o("div",we,[n("div",Te,[Se,(s(!0),o(v,null,b(("arrayFromZeroToNumber"in t?t.arrayFromZeroToNumber:e(G))(3),a=>(s(),o("div",{class:"item",key:"header_"+a}))),128))]),t.fixed?(s(),o("div",Ne,[Ae,(s(!0),o(v,null,b(("arrayFromZeroToNumber"in t?t.arrayFromZeroToNumber:e(G))(3),a=>(s(),o("div",{key:"item_"+e($)[e(r)].code[a]+"_"+a,class:m(["item",("SHAPES"in t?t.SHAPES:e(B))[a]]),onClick:()=>_(a)},[n("div",Me,S(e($)[e(r)].code[a]),1),e(k)[a]?(s(),o("div",Re,[(s(!0),o(v,null,b(("arrayFromOneToNumber"in t?t.arrayFromOneToNumber:e(j))(5),l=>(s(),o("div",{class:"menu-item",onClick:q(()=>T(a,e(r),l),["stop"])},S(l),9,Pe))),256))])):E("",!0)],10,Ee))),128))])):(s(!0),o(v,{key:1},b(e($),(a,l)=>(s(),o("div",{class:m(["row",{inactive:l!=e(r)}]),ref_for:!0,ref:p=>{l==e($).length-1&&(h.value=p)},key:"item_rownote_"+l,id:"item_rownote_"+l},[n("div",{class:"select-row",onClick:()=>r.value=l},null,8,Oe),(s(!0),o(v,null,b(("arrayFromZeroToNumber"in t?t.arrayFromZeroToNumber:e(G))(3),p=>(s(),o("div",{key:"item_"+a.code[p]+"_"+p,class:m(["item",("SHAPES"in t?t.SHAPES:e(B))[p]]),onClick:()=>_(p)},[n("div",De,S(a.code[p]),1),e(k)[p]?(s(),o("div",Ve,[(s(!0),o(v,null,b(("arrayFromOneToNumber"in t?t.arrayFromOneToNumber:e(j))(5),y=>(s(),o("div",{class:"menu-item",onClick:q(()=>T(p,l,y),["stop"])},S(y),9,Ue))),256))])):E("",!0)],10,Le))),128))],10,Fe))),128))]))}});const Ze=Z(He,[["__scopeId","data-v-33858fcc"]]),X=()=>{const C=U("desktop"),u=Q(()=>C.value=="mobile"||C.value=="tablet"),r=()=>{window.innerWidth>768?C.value="desktop":C.value=window.innerWidth>425?"tablet":"mobile"};return ce(()=>{r(),window.addEventListener("resize",()=>r())}),{isNotDesktop:u}},Ye={class:"verifications-checklist"},Ge={class:"table-container"},Be={class:"row header"},We={class:"item"},ze={class:"label"},je={key:0,class:m(["row"])},qe=["onClick"],Je=["onClick"],Ke=D({__name:"VerificationsChecklist",props:{fixed:{type:Boolean}},setup(C){const{t:u}=le(),r=H(),h=K(),{isNotDesktop:$}=X(),k=Q(()=>r.value.noteRows),_=l=>l===null?"empty":l?"ok":"ko",T=()=>{r.value.noteRows=[...r.value.noteRows,structuredClone(re)],h.value=r.value.noteRows.length-1},t=l=>k.value[l].verificators.filter(p=>p!==null).length,c=(l,p)=>l===null&&t(p)>=3,a=(l,p,y)=>{let g=Y.indexOf(y);g=(g+1+Y.length)%Y.length,r.value.noteRows[l].verificators[p]=Y[g]};return(l,p)=>(s(),o("div",Ye,[n("div",Ge,[n("div",Be,[(s(!0),o(v,null,b(e(r).laws.map(y=>y.key),y=>(s(),o("div",We,[n("div",ze,S(y),1)]))),256))]),l.fixed?(s(),o("div",je,[(s(!0),o(v,null,b(e(r).laws.map(y=>y.key),(y,g)=>(s(),o("div",{class:"item",key:"verificator_"+y+"_"+e(h)},[n("div",{class:m(["checkbox",_(e(k)[e(h)].verificators[g]),{inactive:c(e(k)[e(h)].verificators[g],e(h))}]),onClick:()=>a(e(h),g,e(k)[e(h)].verificators[g])},null,10,qe)]))),128))])):(s(!0),o(v,{key:1},b(e(k),(y,g)=>(s(),o("div",{class:m(["row",{inactive:g!=e(h)}])},[(s(!0),o(v,null,b(e(r).laws.map(O=>O.key),(O,F)=>(s(),o("div",{class:"item",key:"verificator_"+O+"_"+g},[n("div",{class:m(["checkbox",_(y.verificators[F]),{inactive:c(y.verificators[F],g)}]),onClick:()=>a(g,F,y.verificators[F])},null,10,Je)]))),128))],2))),256)),e($)?(s(),o("div",{key:2,class:m(["add"]),onClick:T},S(e(u)("newNoteRow")),1)):E("",!0)])]))}});const Qe=Z(Ke,[["__scopeId","data-v-85efc572"]]),Xe=C=>(ae("data-v-e0148fc3"),C=C(),ne(),C),Ie=Xe(()=>n("div",{class:"icon"},null,-1)),xe=[Ie],es={class:"row header"},ss={class:"item"},os={class:"row"},ts=["onClick"],is={class:"value"},as=D({__name:"PossibleCodesPicklist",setup(C){const u=H(),r=U(!0),{isNotDesktop:h}=X(),$=_e(),k=ue(),_=(t,c)=>u.value.possibleCodes[c].includes(t),T=(t,c)=>{var a=u.value.possibleCodes[c].indexOf(t);a==-1?u.value.possibleCodes[c].push(t):u.value.possibleCodes[c].splice(a,1)};return(t,c)=>(s(),o("div",{class:m(["possible-codes-picklist",{collapsed:e(h)&&e(r)}])},[n("div",{class:"collapse",onClick:c[0]||(c[0]=a=>r.value=!e(r))},xe),n("div",es,[(s(!0),o(v,null,b("SHAPES"in t?t.SHAPES:e(B),a=>(s(),o("div",ss))),256))]),(s(!0),o(v,null,b(("arrayFromOneToNumber"in t?t.arrayFromOneToNumber:e(j))(5),a=>(s(),o("div",os,[(s(!0),o(v,null,b(("arrayFromZeroToNumber"in t?t.arrayFromZeroToNumber:e(G))(3),l=>(s(),o("div",{class:m(["item",{inactive:_(a,l)},("SHAPES"in t?t.SHAPES:e(B))[l]]),onClick:()=>T(a,l)},[n("div",is,S(a),1)],10,ts))),256))]))),256)),e(u).possibleCodes[0].length==4&&e(u).possibleCodes[1].length==4&&e(u).possibleCodes[2].length==4?(s(),o("div",{key:0,class:"check-code",onClick:c[1]||(c[1]=()=>{$.value=!0,k.value=("MODAL_TYPES"in t?t.MODAL_TYPES:e(J)).checkCodeSure})},S(t.$t("checkCode")),1)):E("",!0)],2))}});const ns=Z(as,[["__scopeId","data-v-e0148fc3"]]),cs={class:"law-item"},ls={class:"key"},rs={class:"text-container"},_s=["onUpdate:modelValue"],us=["onClick"],ds=["onClick"],vs=["data-src","alt"],ps={class:"conditions-container with-imgs"},ms=["data-src","alt","onClick"],hs={class:"law-item"},ks={class:"key"},Cs={class:"text-container"},ys=["onUpdate:modelValue"],fs=["onClick"],bs=["onClick"],gs=["onClick"],$s=["data-src","alt"],ws={class:"conditions-container with-imgs"},Ts=["data-src","alt","onClick"],Ss=D({__name:"LawsContainer",async setup(C){let u,r;const h=_e(),$=ue(),k=ve(),_=H(),T=pe(),{gameInfo:t}=([u,r]=me(()=>he()),u=await u,r(),u);ke();const c=U(Object.values(se).map(()=>"")),a=U(Object.values(se).map(()=>[])),{locale:l}=le(),p=i=>{_.value.laws[i].possibilities=[],setTimeout(()=>{_.value.laws[i].possibilities=z[parseInt(c.value[i])].map(f=>({value:f+"",active:!0}))},100)},y=i=>{_.value.laws[i].possibilities=[],a.value[i].push(c.value[i]),setTimeout(()=>{a.value[i].forEach(f=>{_.value.laws[i].possibilities.push(...z[parseInt(f)].map(w=>({value:w+"",active:!0})))})},100)},g=(i,f)=>{_.value.laws[i].possibilities=[],a.value[i].splice(f,1),setTimeout(()=>{a.value[i].forEach(w=>{_.value.laws[i].possibilities.push(...z[parseInt(w)].map(P=>({value:P+"",active:!0})))})},100)},O=(i,f)=>{_.value.laws[i].possibilities[f].active=!_.value.laws[i].possibilities[f].active},F=i=>_.value.laws[i].possibilities.filter(f=>f.active),I=i=>c.value[i]===""||_.value.laws[i].possibilities.find(f=>f.value==c.value[i]),x=i=>{const f=te.find(P=>P.iso==l.value),w=f?f.value:"en";return ye.replaceAll("{locale}",w.toUpperCase()).replace("{possibility}",i+"")},ee=i=>{const f=(i<10?"0":"")+i,w=te.find(M=>M.iso==l.value),P=w?w.value:"en";return fe.replaceAll("{locale}",P.toUpperCase()).replace("{lawId}",f)};return(i,f)=>{var P;const w=Ce("lazy-load");return s(),o("div",{class:m(["laws-container","mode_"+((P=e(t))==null?void 0:P.m)])},[e(T)==("gameModes"in i?i.gameModes:e(W)).classic||e(T)==("gameModes"in i?i.gameModes:e(W)).nightmare?(s(!0),o(v,{key:0},b(e(_).laws,(M,d)=>(s(),o("div",cs,[n("div",ls,S(M.key),1),n("div",rs,[L(n("input",{type:"number",min:"1",max:"48","onUpdate:modelValue":N=>e(c)[d]=N},null,8,_s),[[oe,e(c)[d]]]),n("div",{class:m(["add",{inactive:I(d)}]),onClick:()=>p(d)}," + ",10,us)]),e(_).laws[d].possibilities.length>0?(s(),o(v,{key:0},[n("div",{class:"law-container",onClick:()=>{k.value=parseInt(e(c)[d]),h.value=!0,$.value=("MODAL_TYPES"in i?i.MODAL_TYPES:e(J)).cardDetail}},[L(n("img",{"data-src":ee(parseInt(e(c)[d])),alt:"law_card_"+M},null,8,vs),[[w]])],8,ds),n("div",ps,[(s(!0),o(v,null,b(e(_).laws[d].possibilities,(N,R)=>{var V;return s(),o("div",{class:m(["condition-container",{definitive:F(d).length==1},{inactive:!((V=M.possibilities[R])!=null&&V.active)}])},[L(n("img",{class:m(["condition"]),"data-src":x(N.value),alt:"law_image_"+i.$i18n.locale+"_"+N,onClick:()=>O(d,R)},null,8,ms),[[w]])],2)}),256))])],64)):E("",!0)]))),256)):e(T)==("gameModes"in i?i.gameModes:e(W)).extreme?(s(!0),o(v,{key:1},b(e(_).laws,(M,d)=>(s(),o("div",hs,[n("div",ks,S(M.key),1),n("div",Cs,[L(n("input",{type:"number",min:"1",max:"48","onUpdate:modelValue":N=>e(c)[d]=N},null,8,ys),[[oe,e(c)[d]]]),e(a)[d].length<2?(s(),o("div",{key:0,class:m(["add",{inactive:I(d)}]),onClick:()=>y(d)}," + ",10,fs)):E("",!0)]),e(_).laws[d].possibilities.length>0?(s(),o(v,{key:0},[(s(!0),o(v,null,b(e(a)[d],(N,R)=>(s(),o("div",{class:"law-container",onClick:()=>{k.value=parseInt(e(c)[d]),h.value=!0,$.value=("MODAL_TYPES"in i?i.MODAL_TYPES:e(J)).cardDetail}},[n("div",{class:m(["remove"]),onClick:q(()=>g(d,R),["stop"])}," - ",8,gs),L(n("img",{"data-src":ee(parseInt(e(a)[d][R])),alt:"law_card_"+parseInt(e(a)[d][R])},null,8,$s),[[w]])],8,bs))),256)),n("div",ws,[(s(!0),o(v,null,b(M.possibilities,(N,R)=>{var V;return s(),o("div",{class:m(["condition-container",{definitive:F(d).length==1},{inactive:!((V=M.possibilities[R])!=null&&V.active)}])},[L(n("img",{class:m(["condition"]),"data-src":x(N.value),alt:"law_image_"+i.$i18n.locale+"_"+N,onClick:()=>O(d,R)},null,8,Ts),[[w]])],2)}),256))])],64)):E("",!0)]))),256)):E("",!0)],2)}}});const Ns=Z(Ss,[["__scopeId","data-v-b5cdccd8"]]),As={key:0,class:"add-container"},Es={key:0,class:"row fixed with-button"},Ms={class:"row"},Rs={class:"row with-button"},Ps={class:"row"},Fs={class:"row"},Os={class:"row"},Ls=D({__name:"Note",setup(C){const u=H(),r=K(),{isNotDesktop:h}=X(),{isFixedRow:$}=ie(),k=be();ce(()=>{});const _=()=>{u.value.noteRows=[...u.value.noteRows,structuredClone(re)],r.value=u.value.noteRows.length-1};return(T,t)=>{const c=Ze,a=Qe,l=ns,p=Ns;return s(),o("div",{class:m(["note-container",{disabled:e(k)}])},[e(h)?E("",!0):(s(),o("div",As,[n("div",{class:m(["add"]),onClick:_},S(T.$t("newNoteRow")),1)])),e(h)?(s(),o(v,{key:1},[e($)?(s(),o("div",Es,[A(c,{fixed:!0}),A(a,{fixed:!0})])):E("",!0),n("div",Ms,[A(l)]),n("div",Rs,[A(c),A(a)]),n("div",Ps,[A(p)])],64)):(s(),o(v,{key:2},[n("div",Fs,[A(c),A(a)]),n("div",Os,[A(l),A(p)])],64))],2)}}});const Ds=Z(Ls,[["__scopeId","data-v-4dd41029"]]),Us=D({__name:"index",setup(C){return ge({title:"Turing Machine Companion"}),(u,r)=>{const h=Ds;return s(),$e(h)}}});export{Us as default};
